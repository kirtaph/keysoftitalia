/* === HERO (aderente all’hero-secondary globale, solo tocchi minimi) === */
.hero-prodotti .hero-icon i{ font-size:56px; color:#fff; opacity:.92; }

/* === FILTRI === */
.section-filters{ padding: var(--ks-spacing-8) 0; background: var(--ks-gray-50);
  border-top:1px solid var(--ks-gray-200); border-bottom:1px solid var(--ks-gray-200); }
.filters-wrapper{ background:#fff; border:1px solid var(--ks-gray-200); border-radius: var(--ks-radius-xl);
  padding: var(--ks-spacing-5); box-shadow: var(--ks-shadow-sm); }
.filters-header{ display:flex; justify-content:space-between; align-items:center; margin-bottom: var(--ks-spacing-3); }
.filters-title{ display:flex; align-items:center; gap:8px; margin:0; font-weight:700; }
.filters-title i{ color: var(--ks-orange); }
.filter-label{ font-size: var(--ks-text-sm); font-weight: var(--ks-font-medium); color: var(--ks-text-secondary); margin-bottom:6px; }
.filters-actions{ display:flex; gap:10px; }
@media (max-width: 768px){
  .filters-content{ display:none; }
  .filters-content.show{ display:block; margin-top: var(--ks-spacing-3); }
}

/* === RISULTATI === */
.section-products{ padding: var(--ks-spacing-12) 0; }
.results-header{ display:flex; justify-content:space-between; align-items:center; margin-bottom: var(--ks-spacing-6); }
.results-count{ font-size: var(--ks-text-lg); }

/* === CARD PRODOTTO === */
.product-card{ background:#fff; border:1px solid var(--ks-gray-200); border-radius: var(--ks-radius-xl);
  overflow:hidden; box-shadow: var(--ks-shadow-sm); transition: transform .2s ease, box-shadow .2s ease;
  height:100%; display:flex; flex-direction:column; position:relative; }
.product-card:hover{ transform: translateY(-4px); box-shadow: var(--ks-shadow-lg); }

.product-badge{ position:absolute; top:12px; left:12px; padding:4px 10px; font-size:12px; font-weight:800;
  background: var(--ks-red); color:#fff; border-radius:999px; z-index:2; text-transform:uppercase; letter-spacing:.2px; }

.product-image{ position:relative; background: var(--ks-gray-50); height: 260px; display:flex; align-items:center; justify-content:center; overflow:hidden; }
.product-image img{ width:100%; height:100%; object-fit:cover; transition: transform .25s ease; }
.product-card:hover .product-image img{ transform: scale(1.03); }

.product-condition{ position:absolute; bottom:12px; right:12px; }
.condition-badge{ display:inline-flex; align-items:center; gap:6px; padding:4px 10px; border-radius:999px; font-size:12px; font-weight:800; border:2px solid; background:#fff; }
.condition-nuovo{ border-color: var(--ks-blue); color: var(--ks-blue); }
.condition-expo{ border-color: #7F53AC; color:#7F53AC; }
.condition-aplus{ border-color: var(--ks-green); color: var(--ks-green); }
.condition-a{ border-color: var(--ks-blue); color: var(--ks-blue); }
.condition-b{ border-color: var(--ks-orange); color: var(--ks-orange); }
.condition-c{ border-color: var(--ks-gray-500); color: var(--ks-gray-500); }

.product-content{ padding: var(--ks-spacing-5); display:flex; flex-direction:column; flex:1; }
.product-brand{ font-size:12px; letter-spacing:.4px; color: var(--ks-text-muted); text-transform:uppercase; margin-bottom:4px; }
.product-title{ font-size: var(--ks-text-lg); font-weight: var(--ks-font-semibold); color: var(--ks-text-primary);
  margin:0 0 10px; line-height: 1.2; min-height: 2.4em; }
.product-highlights{ margin-bottom: 10px; }
.highlight-item{ display:flex; align-items:center; gap:8px; color: var(--ks-text-secondary); font-size: 14px; }
.highlight-item i{ color: var(--ks-green); }

.product-price{ display:flex; align-items:center; gap:10px; margin: 8px 0 12px; }
.price-current{ font-size: 24px; font-weight: 900; color: var(--ks-text-primary); }

.product-warranty{ display:flex; align-items:center; gap:8px; padding:8px 10px; border-radius:12px;
  background: var(--ks-green-light); color: var(--ks-green); font-weight:700; margin-bottom: 12px; }

.product-actions{ display:grid; grid-template-columns: 1fr 1fr; gap:10px; }
@media (max-width: 768px){ .product-actions{ grid-template-columns:1fr; } }

/* === SCHELETRI === */
.is-skeleton{ pointer-events:none; }
.skeleton-block{ width:100%; height:260px; background: linear-gradient(90deg, #eee 25%, #f5f5f5 37%, #eee 63%);
  background-size: 400% 100%; animation: sk 1.4s ease infinite; }
.skeleton-line{ height:12px; margin:10px 0; background: linear-gradient(90deg, #eee 25%, #f5f5f5 37%, #eee 63%);
  background-size: 400% 100%; animation: sk 1.4s ease infinite; border-radius:8px; }
.skeleton-line.w-30{ width:30%; } .skeleton-line.w-40{ width:40%; } .skeleton-line.w-60{ width:60%; } .skeleton-line.w-80{ width:80%; }
@keyframes sk{ 0%{background-position:100% 50%} 100%{background-position:0 50%} }

/* === INFO BOX (stile coerente con sito) === */
.section-info{ padding: var(--ks-spacing-16) 0; background: var(--ks-gray-50); }
.info-box{ background:#fff; border:1px solid var(--ks-gray-200); border-radius: var(--ks-radius-xl);
  padding: var(--ks-spacing-6); text-align:center; height:100%; box-shadow: var(--ks-shadow-sm); transition: transform .2s ease, box-shadow .2s ease; }
.info-box:hover{ transform: translateY(-4px); box-shadow: var(--ks-shadow-lg); }
.info-icon{ width:80px; height:80px; margin:0 auto var(--ks-spacing-4); border-radius: var(--ks-radius-2xl);
  display:flex; align-items:center; justify-content:center; background: var(--ks-gray-100); }
.info-icon i{ font-size: var(--ks-text-3xl); color: var(--ks-blue); }
.info-title{ font-size: var(--ks-text-xl); font-weight: var(--ks-font-semibold); color: var(--ks-text-primary); margin-bottom: var(--ks-spacing-3); }
.info-text{ color: var(--ks-text-secondary); }
.info-link{ color: var(--ks-blue); font-weight:700; text-decoration:none; border-bottom:1px dashed color-mix(in oklab, var(--ks-blue) 40%, transparent); }
.info-link:hover{ color: color-mix(in oklab, var(--ks-blue) 90%, black 5%); }

/* === CTA MINIMALE (riuso naming già presente: cta-min*) === */
.section-cta{ padding: var(--ks-spacing-16) 0; }
.cta-min{ --panel-radius: 22px; --btn-height: 52px;
  background: linear-gradient(135deg, var(--ks-orange) 0%, var(--ks-orange-hover) 100%);
  color:#fff; border-radius: var(--panel-radius); padding: clamp(16px, 2.6vw, 28px);
  border: 1px solid rgba(255,255,255,.14); box-shadow: var(--ks-shadow-lg); }
.cta-min__title{ margin: 4px 0 14px; font-weight:900; color:#fff; font-size: clamp(22px, 2.4vw, 28px); letter-spacing:.2px; }
.cta-min__buttons{ display:grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 10px; align-items:center; margin-bottom: 8px; }
.cta-min__btn{ display:flex; align-items:center; justify-content:center; gap:10px; height: var(--btn-height);
  border-radius:14px; font-weight:800; border:2px solid transparent; transition: transform .15s ease, box-shadow .2s ease; }
.cta-min__btn.is-fill{ background:#fff; color: var(--ks-orange); border-color:#fff; }
.cta-min__btn.is-fill:hover{ transform: translateY(-2px); box-shadow: 0 8px 22px rgba(0,0,0,.16); }
.cta-min__btn.is-ghost{ background: transparent; color:#fff; border-color:#fff; }
.cta-min__btn.is-ghost:hover{ transform: translateY(-2px); background: rgba(255,255,255,.10); box-shadow: 0 8px 22px rgba(0,0,0,.18); }
.cta-min__btn .ico{ width:28px; height:28px; border-radius:999px; display:grid; place-items:center; background: rgba(0,0,0,.06); }
.cta-min__btn .ico.ico--wa i{ color:#25D366; }
.cta-min__btn .ico.ico--tel i{ color:#ffffff; }
.cta-min__email{ display:inline-flex; gap:8px; color:#fff; opacity:.92; text-decoration: underline; }
.cta-min__email:hover{ opacity:1; }

/* === RESPONSIVE PICCOLI TOCCHI === */
@media (max-width: 768px){
  .results-header{ flex-direction:column; align-items:flex-start; gap: var(--ks-spacing-2); }
}

/* === GRID 5 COL === */
#productsGrid{
  display: grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap: var(--ks-spacing-4);
}
@media (max-width: 1400px){ #productsGrid{ grid-template-columns: repeat(4,1fr); } }
@media (max-width: 1200px){ #productsGrid{ grid-template-columns: repeat(3,1fr); } }
@media (max-width:  992px){ #productsGrid{ grid-template-columns: repeat(2,1fr); } }
@media (max-width:  576px){ #productsGrid{ grid-template-columns: 1fr; } }

.product-grid-item{ display: contents; } /* card full-area */

/* === CARD COMPATTA (come nello screen) === */
.product-card--compact{
  position: relative;
  background:#fff;
  border:1px solid var(--ks-gray-200);
  border-radius: 18px;
  overflow: hidden;
  box-shadow: var(--ks-shadow-sm);
  transition: transform .18s ease, box-shadow .18s ease;
  display:flex; flex-direction:column; height:100%;
}
.product-card--compact:hover{ transform: translateY(-3px); box-shadow: var(--ks-shadow-lg); }

.product-card--compact .pc-top{
  position:absolute; inset: 10px 10px auto 10px;
  display:flex; align-items:center; justify-content:space-between; gap:8px;
  pointer-events:none; /* i pill non devono catturare i click */
}

/* Pill storage (sx) */
.cap-pill{
  display:inline-flex; align-items:center; justify-content:center;
  height: 28px; min-width: 56px; padding: 0 10px;
  font-weight: 800; font-size: 13px;
  color: var(--ks-text-primary);
  background: #fff; border:1px solid var(--ks-gray-200); border-radius: 999px;
  box-shadow: var(--ks-shadow-xs);
}

/* Pill grado (dx) */
.grade-pill{
  display:inline-flex; align-items:center; justify-content:center;
  height: 28px; padding: 0 12px;
  font-weight: 800; font-size: 12px; color:#155e36;
  background:#eaf9ee; border:1px solid #b9e8c8; border-radius:999px;
  box-shadow: var(--ks-shadow-xs);
}
.grade-pill.grade--new   { color:#9a142f; background:#ffe6eb; border-color:#ffc1cf; } /* Nuovo (rosso) */
.grade-pill.grade--expo  { color:#4b5563; background:#eef2f7; border-color:#d8dee9; }
.grade-pill.grade--aplus { color:#166534; background:#dcfce7; border-color:#86efac; } /* A+ */
.grade-pill.grade--a     { color:#1d4ed8; background:#eaf1ff; border-color:#c7dcff; } /* A  */
.grade-pill.grade--b     { color:#9a3412; background:#fff7ed; border-color:#fed7aa; } /* B  */
.grade-pill.grade--c     { color:#374151; background:#f3f4f6; border-color:#e5e7eb; } /* C  */

.product-card--compact .product-image{
  margin-top: 40px; /* spazio per le pill */
  height: 180px; background: #ffffff;
  display:flex; align-items:center; justify-content:center;
}
.product-card--compact .product-image img{ max-height: 100%; width: auto; object-fit: contain; }

.product-card--compact .product-content{ padding: 14px 16px 16px; display:flex; flex-direction:column; gap:10px; }
.product-card--compact .product-title{ margin:0; font-size: 15.5px; font-weight:700; color: var(--ks-text-primary); min-height: 2.6em; line-height:1.3; }
.product-card--compact .product-price .price-current{ color:#e65100; font-weight:900; font-size: 20px; }

/* CTA: Dettagli (ghost) + Acquista (arancio pieno) */
.product-card--compact .product-actions{
  margin-top: 4px;
  display:grid; grid-template-columns: 1fr 1fr; gap: 10px;
}
@media (max-width: 576px){ .product-card--compact .product-actions{ grid-template-columns: 1fr; } }

.product-card--compact .btn.btn-primary{
  background: var(--ks-orange); border-color: var(--ks-orange);
  font-weight:800; border-radius: 12px; height: 44px;
}
.product-card--compact .btn.btn-primary:hover{ filter: brightness(0.98); }
.product-card--compact .btn.btn-outline-primary{
  border-color: var(--ks-orange); color: var(--ks-orange);
  font-weight:800; border-radius: 12px; height: 44px; background:#fff;
}
.product-card--compact .btn.btn-outline-primary:hover{
  background: color-mix(in oklab, var(--ks-orange) 8%, white);
}

/* === MODALE PRODOTTO === */
.product-modal .modal-header{ border-bottom: 1px solid var(--ks-gray-200); }
.product-modal .modal-footer{ border-top: 1px solid var(--ks-gray-200); }
.pm-name{ font-weight: 800; font-size: clamp(20px, 2.2vw, 26px); color: var(--ks-text-primary); margin: 8px 0; }
.pm-price-eur{ font-weight: 900; font-size: clamp(20px, 2vw, 24px); color:#e65100; }
.pm-sku{ margin-left: 10px; color: var(--ks-text-secondary); }
.pm-excerpt{ color: var(--ks-text-secondary); margin-top: 8px; }

.pm-gallery .pm-photo{
  background: var(--ks-gray-50); border:1px solid var(--ks-gray-200);
  border-radius: 14px; height: 360px; display:grid; place-items:center; overflow:hidden;
}
.pm-gallery .pm-photo img{ max-height: 100%; max-width: 100%; object-fit: contain; }
.pm-thumbs{ display:flex; gap:10px; flex-wrap:wrap; margin-top:10px; }
.pm-thumb{ border:1px solid var(--ks-gray-200); border-radius: 10px; padding: 4px; background:#fff; }
.pm-thumb img{ width: 72px; height: 72px; object-fit: cover; border-radius: 8px; }
.pm-thumb.is-active{ outline: 2px solid var(--ks-blue); }

.pm-actions .btn{ font-weight: 800; border-radius: 12px; }

/* === GRID 5 COL === */
#productsGrid{
  display:grid;
  grid-template-columns: repeat(4, minmax(0,1fr));
  gap: var(--ks-spacing-4);
}
@media (max-width:1400px){ #productsGrid{ grid-template-columns:repeat(4,1fr); } }
@media (max-width:1200px){ #productsGrid{ grid-template-columns:repeat(3,1fr); } }
@media (max-width: 992px){ #productsGrid{ grid-template-columns:repeat(2,1fr); } }
@media (max-width: 576px){ #productsGrid{ grid-template-columns:1fr; } }
.product-grid-item{ display:contents; }

/* === CARD COMPACT (resta allineata al tuo tema) === */
.product-card--compact{ position:relative; background:#fff; border:1px solid var(--ks-gray-200);
  border-radius:18px; overflow:hidden; box-shadow:var(--ks-shadow-sm);
  transition:transform .18s ease, box-shadow .18s ease; display:flex; flex-direction:column; height:100%; }
.product-card--compact:hover{ transform:translateY(-3px); box-shadow:var(--ks-shadow-lg); }
.product-card--compact .pc-top{ position:absolute; inset:10px 10px auto 10px; display:flex; justify-content:space-between; gap:8px; pointer-events:none; }
.cap-pill{ display:inline-flex; align-items:center; justify-content:center; height:28px; min-width:56px; padding:0 10px;
  font-weight:800; font-size:13px; color:var(--ks-text-primary); background:#fff; border:1px solid var(--ks-gray-200);
  border-radius:999px; box-shadow:var(--ks-shadow-xs); }
.grade-pill{ display:inline-flex; align-items:center; justify-content:center; height:28px; padding:0 12px; font-weight:800; font-size:12px;
  color:#155e36; background:#eaf9ee; border:1px solid #b9e8c8; border-radius:999px; box-shadow:var(--ks-shadow-xs); }
.grade-pill.grade--new{ color:#9a142f; background:#ffe6eb; border-color:#ffc1cf; }
.grade-pill.grade--expo{ color:#4b5563; background:#eef2f7; border-color:#d8dee9; }
.grade-pill.grade--aplus{ color:#166534; background:#dcfce7; border-color:#86efac; }
.grade-pill.grade--a{ color:#1d4ed8; background:#eaf1ff; border-color:#c7dcff; }
.grade-pill.grade--b{ color:#9a3412; background:#fff7ed; border-color:#fed7aa; }
.grade-pill.grade--c{ color:#374151; background:#f3f4f6; border-color:#e5e7eb; }

.product-card--compact .product-image{ margin-top:43px; height:180px; background:#ffffff; display:flex; align-items:center; justify-content:center; }
.product-card--compact .product-image img{ max-height:100%; width:auto; object-fit:contain; }
.product-card--compact .product-content{ position:relative; padding:14px 16px 16px; display:flex; flex-direction:column; gap:10px; }
.product-card--compact .product-title{ margin:0; font-size:15.5px; font-weight:700; color:var(--ks-text-primary); min-height:2.6em; line-height:1.3; }
.product-card--compact .product-price .price-current{ color:#e65100; font-weight:900; font-size:20px; }
.product-card--compact .product-actions{ margin-top:4px; display:grid; grid-template-columns:1fr 1fr; gap:10px; }
@media (max-width:576px){ .product-card--compact .product-actions{ grid-template-columns:1fr; } }
.product-card--compact .btn.btn-primary{ background:var(--ks-orange); border-color:var(--ks-orange); font-weight:800; border-radius:12px; height:44px; }
.product-card--compact .btn.btn-primary:hover{ filter:brightness(.98); }
.product-card--compact .btn.btn-outline-primary{ border-color:var(--ks-orange); color:var(--ks-orange); font-weight:800; border-radius:12px; height:44px; background:#fff; }
.product-card--compact .btn.btn-outline-primary:hover{ background:color-mix(in oklab, var(--ks-orange) 8%, white); }

/* stretched link */
.product-card--compact .stretched-link{ position:absolute; inset:0; z-index:1; }
.product-card--compact [data-no-link]{ position:relative; z-index:2; }

/* Stato Non disponibile */
.product-card--compact.is-unavailable{ opacity:.85; }
.pc-overlay{ position:absolute; inset:0; display:flex; align-items:center; justify-content:center;
  background:linear-gradient(0deg, rgba(255,255,255,.78), rgba(255,255,255,.78)); z-index:3; }
.pc-o-text{ display:inline-flex; gap:8px; align-items:center; font-weight:900; color:#7f1d1d;
  background:#fee2e2; border:1px solid #fecaca; padding:8px 12px; border-radius:999px; }
.product-card--compact.is-unavailable .product-actions .btn{ pointer-events:none; opacity:.6; }

/* === MODALE === */
.product-modal .modal-header{ border-bottom:1px solid var(--ks-gray-200); }
.product-modal .modal-footer{ border-top:1px solid var(--ks-gray-200); }
.pm-name{ font-weight:800; font-size:clamp(20px,2.2vw,26px); color:var(--ks-text-primary); margin:8px 0; }
.pm-price-eur{ font-weight:900; font-size:clamp(20px,2vw,24px); color:#e65100; }
.pm-sku{ margin-left:10px; color:var(--ks-text-secondary); }
.pm-excerpt{ color:var(--ks-text-secondary); margin-top:8px; }
.pm-full{ margin-top:6px; }
.pm-full-inner{ color:var(--ks-text-primary); font-size:15px; line-height:1.55; }

/* Galleria */
.pm-gallery .pm-photo{ background:var(--ks-gray-50); border:1px solid var(--ks-gray-200);
  border-radius:14px; height:360px; display:grid; place-items:center; overflow:hidden; }
.pm-gallery .pm-photo img{ max-height:100%; max-width:100%; object-fit:contain; }
.pm-thumbs{ display:flex; gap:10px; flex-wrap:wrap; margin-top:10px; }
.pm-thumb{ border:1px solid var(--ks-gray-200); border-radius:10px; padding:4px; background:#fff; }
.pm-thumb img{ width:72px; height:72px; object-fit:cover; border-radius:8px; }
.pm-thumb.is-active{ outline:2px solid var(--ks-blue); }

/* Specs 2 colonne con iconcine */
.pm-specs-grid{ display:grid; grid-template-columns:1fr 1fr; gap:10px 14px; margin-top:12px; }
@media (max-width:576px){ .pm-specs-grid{ grid-template-columns:1fr; } }
.pm-spec{ display:grid; grid-template-columns:22px 120px 1fr; gap:8px; align-items:center;
  background:#fff; border:1px solid var(--ks-gray-200); border-radius:10px; padding:8px 10px; }
.pm-spec i{ font-size:18px; color:var(--ks-blue); }
.pm-spec-label{ font-weight:700; color:var(--ks-text-primary); }
.pm-spec-val{ color:var(--ks-text-secondary); }

.pm-actions .btn{ font-weight:800; border-radius:12px; }
/* Pager chip-style (coerente col tema) */
.pager{ display:flex; gap:8px; flex-wrap:wrap; justify-content:center; }
.pg-btn{
  border:1px solid var(--ks-gray-200);
  background:#fff;
  color:var(--ks-text-primary);
  border-radius:12px;
  padding:8px 12px;
  font-weight:800;
}
.pg-btn.is-active{ border-color:var(--ks-orange); background:var(--ks-orange-light); color:var(--ks-text-primary); }
.pg-btn[disabled]{ opacity:.5; cursor:not-allowed; }
.pg-ellipsis{ align-self:center; color:var(--ks-gray-500); }